<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="../css/reset.css">
</head>

<body>
    <div id="header_warpper">
        <div class="header content">
            <div class="top">
                <div class="top_l">
                    <div class="img" title="凡客">fanke</div>
                </div>
                <div class="top_r"><a href="#">帮助</a></div>
            </div>
            <div class="bottom">
                <div class="bottom_l"><img src="../images/tx.jpg" /></div>
                <div class="bottom_r">
                    <div class="bottom_r_t">
                        <h3>凡客Vancl登录</h3>
                        <p>没有账户免费<a href="#">注册</a></p>
                    </div>
                    <div class="bottom_r_b">
                        <ul>
                            <li class="A"><a href="#">普通登录</a></li>
                            <li class="B"><a href="#">快捷登录</a></li>
                        </ul>
                        <div class="a">
                            <form action="../php/login.php" method="GET" class="form-box" autocomplete="off">
                                <div class="form-group">
                                    <!-- for根据文本框的id，点击label文本框会获取焦点 -->
                                    <!-- <label for="username">用户名</label><br/> -->
                                    <input type="text" name="name" id="username" class="form-control" placeholder="用户名" data-error="需要输入6-13位的字母或者下划线" />
                                    <p class=""></p>
                                </div>
                                <div class="form-group">
                                    <!-- <label for="password">请输入密码</label><br/> -->
                                    <input type="password" name="pwd" class="form-control" placeholder="密码" data-error="密码格式不正确" />
                                    <p class=""></p>
                                </div>
                                <!-- <button class="btn" name="submit" type="button">登录</button> -->
                                <input type="submit" class="btn" value="登录">
                            </form>
                        </div>
                        <div class="b" style="display:none;">
                            <form class="form-box" autocomplete="off">

                                <div class="form-group">
                                    <!-- <label for="phone">手机号</label><br/> -->
                                    <input type="text" name="phone" id="phone" class="p" placeholder="手机号" data-error="手机号格式不正确" />
                                    <p class=""></p>
                                </div>
                                <button id="btn" name="submit" type="button" class="btn1">获取验证码</button>
                                <div class="form-group">
                                    <!-- <label for="phone">手机号</label><br/> -->
                                    <input type="text" name="code" id="code" class="rg" placeholder="验证码" data-error="验证码格式不正确" />
                                    <p class=""></p>
                                </div>
                                <img src="https://login.vancl.com/Controls/CalculateValidateCode.ashx?key=quicklogin&t=1550294553309" />
                                <a href="#" style="font-size:14px;display:block;position:absolute;right:0;top:70px;">换下张</a>
                                <div class="form-group">
                                    <!-- <label for="phone">手机号</label><br/> -->
                                    <input type="text" name="recode" id="recode" class="r" placeholder="请输入手机验证码" data-error="验证码格式不正确" />
                                    <p class=""></p>
                                </div>
                                <!-- <button id="btn" name="submit" type="button" class="btn">提交</button> -->
                                <input type="submit" class="btn" value="提交">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/jquery.min.js"></script>
    <script>
        $('ul .A').click(function() {
            $('.a').show();
            $('.b').hide();
        })
        $('ul .B').click(function() {
            $('.a').hide();
            $('.b').show();
        })
    </script>
    <script>
        var $from = document.querySelector(".form-box");
        var $pAll = document.querySelectorAll("p");
        var $username = $from["username"]; //username指向name
        //console.log($username);
        var $password = $from["password"];

        $username.onblur = function() {
            var $p = this.nextElementSibling
            if (this.value == "") {
                $p.innerHTML = "内容不能为空";
                $p.className = "text-danger";
                return;
            }
            var reg = /^1[35789]\d{9}$/;
            if (reg.test(this.value)) {
                $p.innerHTML = "验证成功";
                $p.className = "text-success";
            } else {
                $p.innerHTML = "手机号输入错误";
                $p.className = "text-danger";
            }
        }
        $password.onblur = function() {
            var $p = this.nextElementSibling
            if (this.value == "") {
                $p.innerHTML = "内容不能为空";
                $p.className = "text-danger";
                return;
            }
            var reg = /^\w{6,15}$/;
            if (reg.test(this.value)) {
                $p.innerHTML = "验证成功";
                $p.className = "text-success";
            } else {
                $p.innerHTML = "格式错误，只能是6-15位，且只能是数字，字母或者下划线";
                $p.className = "text-danger";
            }
            $repassword.onblur();
        }


        /*   btn.onclick = function() {
              for (let i = 0; i < $pAll.length; i++) {
                  if ($pAll[i].className != "text-success") {
                      $pAll[i].previousElementSibling.focus();
                      return;
                  }
              }
          } */
    </script>

</body>

</html>